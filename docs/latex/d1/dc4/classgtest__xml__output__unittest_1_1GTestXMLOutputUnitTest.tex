\hypertarget{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest}{\section{\-G\-Test\-X\-M\-L\-Output\-Unit\-Test \-Class \-Reference}
\label{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest}\index{\-G\-Test\-X\-M\-L\-Output\-Unit\-Test@{\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}}
}
\-Inheritance diagram for \-G\-Test\-X\-M\-L\-Output\-Unit\-Test\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a06394e0d6fda9feb1fb5c6d97dcd5c28}{test\-Non\-Empty\-Xml\-Output}
\item 
def \hyperlink{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a2a7fc9830d506776e10a2d2e6775a008}{test\-Empty\-Xml\-Output}
\item 
def \hyperlink{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a16c8ccb17e494d9e9662656f555d64ab}{test\-Default\-Output\-File}
\item 
def \hyperlink{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a6bf0f8633ad9ec8158be243e8a315ab5}{test\-Suppressed\-Xml\-Output}
\end{DoxyCompactItemize}
\subsection*{\-Private \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a715507696a102c0c5831a34e10ea4b71}{\-\_\-\-Test\-Xml\-Output}
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\begin{DoxyVerb}
Unit test for Google Test's XML output functionality.
\end{DoxyVerb}
 

\-Definition at line 134 of file gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py.



\subsection{\-Member \-Function \-Documentation}
\hypertarget{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a715507696a102c0c5831a34e10ea4b71}{\index{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}!\-\_\-\-Test\-Xml\-Output@{\-\_\-\-Test\-Xml\-Output}}
\index{\-\_\-\-Test\-Xml\-Output@{\-\_\-\-Test\-Xml\-Output}!gtest_xml_output_unittest::GTestXMLOutputUnitTest@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}}
\subsubsection[{\-\_\-\-Test\-Xml\-Output}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf \-\_\-\-Test\-Xml\-Output} (
\begin{DoxyParamCaption}
\item[{}]{self, }
\item[{}]{gtest\-\_\-prog\-\_\-name, }
\item[{}]{expected\-\_\-xml, }
\item[{}]{expected\-\_\-exit\-\_\-code}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}private\mbox{]}}}}\label{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a715507696a102c0c5831a34e10ea4b71}
\begin{DoxyVerb}
Asserts that the XML document generated by running the program
gtest_prog_name matches expected_xml, a string containing another
XML document.  Furthermore, the program's exit code must be
expected_exit_code.
\end{DoxyVerb}
 

\-Definition at line 207 of file gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py.


\begin{DoxyCode}
207 
208   def _TestXmlOutput(self, gtest_prog_name, expected_xml, expected_exit_code):
209     """
210     Asserts that the XML document generated by running the program
211     gtest_prog_name matches expected_xml, a string containing another
212     XML document.  Furthermore, the program's exit code must be
213     expected_exit_code.
214     """
215     xml_path = os.path.join(gtest_test_utils.GetTempDir(),
216                             gtest_prog_name + "out.xml")
217     gtest_prog_path = gtest_test_utils.GetTestExecutablePath(gtest_prog_name)
218 
219     command = [gtest_prog_path, "%s=xml:%s" % (GTEST_OUTPUT_FLAG, xml_path)]
220     p = gtest_test_utils.Subprocess(command)
221     if p.terminated_by_signal:
222       self.assert_(False,
223                    "%s was killed by signal %d" % (gtest_prog_name, p.signal))
224     else:
225       self.assert_(p.exited)
226       self.assertEquals(expected_exit_code, p.exit_code,
227                         "'%s' exited with code %s, which doesn't match "
228                         "the expected exit code %s."
229                         % (command, p.exit_code, expected_exit_code))
230 
231     expected = minidom.parseString(expected_xml)
232     actual   = minidom.parse(xml_path)
233     self.NormalizeXml(actual.documentElement)
234     self.AssertEquivalentNodes(expected.documentElement,
235                                actual.documentElement)
236     expected.unlink()
237     actual  .unlink()
238 
239 

\end{DoxyCode}
\hypertarget{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a16c8ccb17e494d9e9662656f555d64ab}{\index{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}!test\-Default\-Output\-File@{test\-Default\-Output\-File}}
\index{test\-Default\-Output\-File@{test\-Default\-Output\-File}!gtest_xml_output_unittest::GTestXMLOutputUnitTest@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}}
\subsubsection[{test\-Default\-Output\-File}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf test\-Default\-Output\-File} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a16c8ccb17e494d9e9662656f555d64ab}
\begin{DoxyVerb}
Confirms that Google Test produces an XML output file with the expected
default name if no name is explicitly specified.
\end{DoxyVerb}
 

\-Definition at line 155 of file gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py.


\begin{DoxyCode}
155 
156   def testDefaultOutputFile(self):
157     """
158     Confirms that Google Test produces an XML output file with the expected
159     default name if no name is explicitly specified.
160     """
161     output_file = os.path.join(gtest_test_utils.GetTempDir(),
162                                GTEST_DEFAULT_OUTPUT_FILE)
163     gtest_prog_path = gtest_test_utils.GetTestExecutablePath(
164         "gtest_no_test_unittest")
165     try:
166       os.remove(output_file)
167     except OSError, e:
168       if e.errno != errno.ENOENT:
169         raise
170 
171     p = gtest_test_utils.Subprocess(
172         [gtest_prog_path, "%s=xml" % GTEST_OUTPUT_FLAG],
173         working_dir=gtest_test_utils.GetTempDir())
174     self.assert_(p.exited)
175     self.assertEquals(0, p.exit_code)
176     self.assert_(os.path.isfile(output_file))

\end{DoxyCode}
\hypertarget{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a2a7fc9830d506776e10a2d2e6775a008}{\index{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}!test\-Empty\-Xml\-Output@{test\-Empty\-Xml\-Output}}
\index{test\-Empty\-Xml\-Output@{test\-Empty\-Xml\-Output}!gtest_xml_output_unittest::GTestXMLOutputUnitTest@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}}
\subsubsection[{test\-Empty\-Xml\-Output}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf test\-Empty\-Xml\-Output} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a2a7fc9830d506776e10a2d2e6775a008}
\begin{DoxyVerb}
Runs a test program that generates an empty XML output, and
tests that the XML output is expected.
\end{DoxyVerb}
 

\-Definition at line 146 of file gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py.


\begin{DoxyCode}
146 
147   def testEmptyXmlOutput(self):
148     """
149     Runs a test program that generates an empty XML output, and
150     tests that the XML output is expected.
151     """
152 
153     self._TestXmlOutput("gtest_no_test_unittest",
154                         EXPECTED_EMPTY_XML, 0)

\end{DoxyCode}
\hypertarget{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a06394e0d6fda9feb1fb5c6d97dcd5c28}{\index{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}!test\-Non\-Empty\-Xml\-Output@{test\-Non\-Empty\-Xml\-Output}}
\index{test\-Non\-Empty\-Xml\-Output@{test\-Non\-Empty\-Xml\-Output}!gtest_xml_output_unittest::GTestXMLOutputUnitTest@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}}
\subsubsection[{test\-Non\-Empty\-Xml\-Output}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf test\-Non\-Empty\-Xml\-Output} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a06394e0d6fda9feb1fb5c6d97dcd5c28}
\begin{DoxyVerb}
Runs a test program that generates a non-empty XML output, and
tests that the XML output is expected.
\end{DoxyVerb}
 

\-Definition at line 139 of file gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py.


\begin{DoxyCode}
139 
140   def testNonEmptyXmlOutput(self):
141     """
142     Runs a test program that generates a non-empty XML output, and
143     tests that the XML output is expected.
144     """
145     self._TestXmlOutput(GTEST_PROGRAM_NAME, EXPECTED_NON_EMPTY_XML, 1)

\end{DoxyCode}
\hypertarget{classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a6bf0f8633ad9ec8158be243e8a315ab5}{\index{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}!test\-Suppressed\-Xml\-Output@{test\-Suppressed\-Xml\-Output}}
\index{test\-Suppressed\-Xml\-Output@{test\-Suppressed\-Xml\-Output}!gtest_xml_output_unittest::GTestXMLOutputUnitTest@{gtest\-\_\-xml\-\_\-output\-\_\-unittest\-::\-G\-Test\-X\-M\-L\-Output\-Unit\-Test}}
\subsubsection[{test\-Suppressed\-Xml\-Output}]{\setlength{\rightskip}{0pt plus 5cm}def {\bf test\-Suppressed\-Xml\-Output} (
\begin{DoxyParamCaption}
\item[{}]{self}
\end{DoxyParamCaption}
)}}\label{d1/dc4/classgtest__xml__output__unittest_1_1GTestXMLOutputUnitTest_a6bf0f8633ad9ec8158be243e8a315ab5}
\begin{DoxyVerb}
Tests that no XML file is generated if the default XML listener is
shut down before RUN_ALL_TESTS is invoked.
\end{DoxyVerb}
 

\-Definition at line 177 of file gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py.


\begin{DoxyCode}
177 
178   def testSuppressedXmlOutput(self):
179     """
180     Tests that no XML file is generated if the default XML listener is
181     shut down before RUN_ALL_TESTS is invoked.
182     """
183 
184     xml_path = os.path.join(gtest_test_utils.GetTempDir(),
185                             GTEST_PROGRAM_NAME + "out.xml")
186     if os.path.isfile(xml_path):
187       os.remove(xml_path)
188 
189     gtest_prog_path = gtest_test_utils.GetTestExecutablePath(GTEST_PROGRAM_NAME
      )
190 
191     command = [gtest_prog_path,
192                "%s=xml:%s" % (GTEST_OUTPUT_FLAG, xml_path),
193                "--shut_down_xml"]
194     p = gtest_test_utils.Subprocess(command)
195     if p.terminated_by_signal:
196       self.assert_(False,
197                    "%s was killed by signal %d" % (gtest_prog_name, p.signal))
198     else:
199       self.assert_(p.exited)
200       self.assertEquals(1, p.exit_code,
201                         "'%s' exited with code %s, which doesn't match "
202                         "the expected exit code %s."
203                         % (command, p.exit_code, 1))
204 
205     self.assert_(not os.path.isfile(xml_path))
206 

\end{DoxyCode}


\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
gtest-\/1.\-6.\-0/test/\hyperlink{gtest__xml__output__unittest_8py}{gtest\-\_\-xml\-\_\-output\-\_\-unittest.\-py}\end{DoxyCompactItemize}

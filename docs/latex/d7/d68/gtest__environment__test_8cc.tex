\hypertarget{gtest__environment__test_8cc}{\section{gtest-\/1.6.0/test/gtest\-\_\-environment\-\_\-test.cc \-File \-Reference}
\label{d7/d68/gtest__environment__test_8cc}\index{gtest-\/1.\-6.\-0/test/gtest\-\_\-environment\-\_\-test.\-cc@{gtest-\/1.\-6.\-0/test/gtest\-\_\-environment\-\_\-test.\-cc}}
}
{\ttfamily \#include $<$stdlib.\-h$>$}\*
{\ttfamily \#include $<$stdio.\-h$>$}\*
{\ttfamily \#include \char`\"{}gtest/gtest.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}src/gtest-\/internal-\/inl.\-h\char`\"{}}\*
\subsection*{\-Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \hyperlink{namespacetesting}{testing}
\end{DoxyCompactItemize}
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{gtest__environment__test_8cc_a83bd232fd1077579fada92c31bb7469f}{\-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-}~1
\end{DoxyCompactItemize}
\subsection*{\-Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{gtest__environment__test_8cc_aa43ad7e2c1c5c5150ba8d95607a96263}{\-Failure\-Type} 
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{namespacetesting_a4c624a5efd425b1d1ec252507716c9e4}{\-G\-T\-E\-S\-T\-\_\-\-D\-E\-C\-L\-A\-R\-E\-\_\-string\-\_\-} (filter)
\item 
int \hyperlink{gtest__environment__test_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{main} (int argc, char $\ast$$\ast$argv)
\end{DoxyCompactItemize}


\subsection{\-Define \-Documentation}
\hypertarget{gtest__environment__test_8cc_a83bd232fd1077579fada92c31bb7469f}{\index{gtest\-\_\-environment\-\_\-test.\-cc@{gtest\-\_\-environment\-\_\-test.\-cc}!\-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-@{\-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-}}
\index{\-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-@{\-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-}!gtest_environment_test.cc@{gtest\-\_\-environment\-\_\-test.\-cc}}
\subsubsection[{\-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-G\-T\-E\-S\-T\-\_\-\-I\-M\-P\-L\-E\-M\-E\-N\-T\-A\-T\-I\-O\-N\-\_\-}~1}}\label{d7/d68/gtest__environment__test_8cc_a83bd232fd1077579fada92c31bb7469f}


\-Definition at line 38 of file gtest\-\_\-environment\-\_\-test.\-cc.



\subsection{\-Enumeration \-Type \-Documentation}
\hypertarget{gtest__environment__test_8cc_aa43ad7e2c1c5c5150ba8d95607a96263}{\index{gtest\-\_\-environment\-\_\-test.\-cc@{gtest\-\_\-environment\-\_\-test.\-cc}!\-Failure\-Type@{\-Failure\-Type}}
\index{\-Failure\-Type@{\-Failure\-Type}!gtest_environment_test.cc@{gtest\-\_\-environment\-\_\-test.\-cc}}
\subsubsection[{\-Failure\-Type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf \-Failure\-Type}}}\label{d7/d68/gtest__environment__test_8cc_aa43ad7e2c1c5c5150ba8d95607a96263}


\-Definition at line 48 of file gtest\-\_\-environment\-\_\-test.\-cc.


\begin{DoxyCode}
                 {
  NO_FAILURE, NON_FATAL_FAILURE, FATAL_FAILURE
};
\end{DoxyCode}


\subsection{\-Function \-Documentation}
\hypertarget{gtest__environment__test_8cc_a3c04138a5bfe5d72780bb7e82a18e627}{\index{gtest\-\_\-environment\-\_\-test.\-cc@{gtest\-\_\-environment\-\_\-test.\-cc}!main@{main}}
\index{main@{main}!gtest_environment_test.cc@{gtest\-\_\-environment\-\_\-test.\-cc}}
\subsubsection[{main}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf main} (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{d7/d68/gtest__environment__test_8cc_a3c04138a5bfe5d72780bb7e82a18e627}


\-Definition at line 136 of file gtest\-\_\-environment\-\_\-test.\-cc.


\begin{DoxyCode}
                                {
  testing::InitGoogleTest(&argc, argv);

  // Registers a global test environment, and verifies that the
  // registration function returns its argument.
  MyEnvironment* const env = new MyEnvironment;
  Check(testing::AddGlobalTestEnvironment(env) == env,
        "AddGlobalTestEnvironment() should return its argument.");

  // Verifies that RUN_ALL_TESTS() runs the tests when the global
  // set-up is successful.
  Check(RunAllTests(env, NO_FAILURE) != 0,
        "RUN_ALL_TESTS() should return non-zero, as the global tear-down "
        "should generate a failure.");
  Check(test_was_run,
        "The tests should run, as the global set-up should generate no "
        "failure");
  Check(env->tear_down_was_run(),
        "The global tear-down should run, as the global set-up was run.");

  // Verifies that RUN_ALL_TESTS() runs the tests when the global
  // set-up generates no fatal failure.
  Check(RunAllTests(env, NON_FATAL_FAILURE) != 0,
        "RUN_ALL_TESTS() should return non-zero, as both the global set-up "
        "and the global tear-down should generate a non-fatal failure.");
  Check(test_was_run,
        "The tests should run, as the global set-up should generate no "
        "fatal failure.");
  Check(env->tear_down_was_run(),
        "The global tear-down should run, as the global set-up was run.");

  // Verifies that RUN_ALL_TESTS() runs no test when the global set-up
  // generates a fatal failure.
  Check(RunAllTests(env, FATAL_FAILURE) != 0,
        "RUN_ALL_TESTS() should return non-zero, as the global set-up "
        "should generate a fatal failure.");
  Check(!test_was_run,
        "The tests should not run, as the global set-up should generate "
        "a fatal failure.");
  Check(env->tear_down_was_run(),
        "The global tear-down should run, as the global set-up was run.");

  // Verifies that RUN_ALL_TESTS() doesn't do global set-up or
  // tear-down when there is no test to run.
  testing::GTEST_FLAG(filter) = "-*";
  Check(RunAllTests(env, NO_FAILURE) == 0,
        "RUN_ALL_TESTS() should return zero, as there is no test to run.");
  Check(!env->set_up_was_run(),
        "The global set-up should not run, as there is no test to run.");
  Check(!env->tear_down_was_run(),
        "The global tear-down should not run, "
        "as the global set-up was not run.");

  printf("PASS\n");
  return 0;
}
\end{DoxyCode}
